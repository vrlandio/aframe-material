!function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=5)}([function(t,e){const i={preloadAssets:t=>{let e,i=document.querySelector("a-assets");if(!i){var r=document.querySelector("a-scene");i=document.createElement("a-assets"),r.appendChild(i)}for(let r of t){e=!1;for(let t of Array.from(i.children))r.id===t.id&&(e=!0);if(!e){var s=document.createElement(r.type);s.setAttribute("id",r.id),s.setAttribute("src",r.src),i.appendChild(s)}}},extend:function(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},clone:function(t){if(Array.isArray(t))return t.slice(0);const e=Object.create(Object.getPrototypeOf(t));let i=void 0;const r=Object.getOwnPropertyNames(t);for(i=0;i<r.length;)Object.defineProperty(e,r[i],Object.getOwnPropertyDescriptor(t,r[i])),i++;return e},updateOpacity:function(t,e){if(t.hasAttribute("text")){let i=t.getAttribute("text");i&&(i.opacity=e,t.setAttribute("text",i))}t.object3D.traverse((function(t){t.material&&(t.material.transparent=!0,t.material.opacity=e)}));for(let i of t.querySelectorAll("a-text"))i.setAttribute("opacity",e)},getWidthFactor:function(t,e){let i=1e-5;return t.components.text&&t.components.text.currentFont&&(i=t.components.text.currentFont.widthFactor,i*=.5+e),i}};t.exports=i},function(t,e){t.exports={aframeKeyboardShift:`/${AFRAME.ASSETS_PATH}/images/keyboard/ShiftIcon.png`,aframeKeyboardShiftActive:`/${AFRAME.ASSETS_PATH}/images/keyboard/ShiftActiveIcon.png`,aframeKeyboardGlobal:`/${AFRAME.ASSETS_PATH}/images/keyboard/GlobalIcon.png`,aframeKeyboardBackspace:`/${AFRAME.ASSETS_PATH}/images/keyboard/BackspaceIcon.png`,aframeKeyboardEnter:`/${AFRAME.ASSETS_PATH}/images/keyboard/EnterIcon.png`,aframeKeyboardDismiss:`/${AFRAME.ASSETS_PATH}/images/keyboard/DismissIcon.png`,aframeKeyboardShadow:`/${AFRAME.ASSETS_PATH}/images/keyboard/KeyShadow.png`,aframeKeyboardKeyIn:`/${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,aframeKeyboardKeyDown:`/${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`}},function(t,e){t.exports={emit:(t,e,i)=>{console.error("emit",i),console.error(i),console.error(e),console.error(t),t.dispatchEvent(new CustomEvent(e,{detail:i}))}}},function(t,e){t.exports={KEYBOARD_COLOR:"#263238",KEY_COLOR_HIGHLIGHT:"#29363c",KEY_COLOR_ACTIVE:"#404b50",SPACEBAR_COLOR_ACTIVE:"#3c464b",SPACEBAR_COLOR_HIGHLIGHT:"#445055",KEY_WIDTH:.08,SPACE_KEY_WIDTH:.368,SPACE_KEY_HEIGHT:.05,ACTION_WIDTH:.14}},function(t,e,i){const r=i(1),s=i(3),o=(i(0),i(2)),a={el:null,showKeyboard:function(t){t.o_position&&t.object3D.position.copy(t.o_position),t.isOpen=!0;for(let e of t.querySelectorAll("[data-ui]"))for(let t of e.children)t.setAttribute("show",!0);t.parentNode||t.sceneEl.appendChild(t)},hideKeyboard:function(t){let e=t.getAttribute("position");-1e4!==e.x&&(t.o_position||(t.o_position=new THREE.Vector3),t.o_position.copy(e)),t.isOpen=!1,t.setAttribute("position","-10000 -10000 -10000")},destroyKeyboard:function(t){t.removeEventListener("mousedown",a.keyClick),t.removeEventListener("mouseup",a.keyOut),t.removeEventListener("raycaster-intersected",a.keyIn),t.removeEventListener("raycaster-intersected-cleared",a.keyOut);let e=t.parentNode;e&&e.removeChild(t)},openKeyboard:function(t){t.o_position&&t.object3D.position.copy(t.o_position),t.isOpen=!0,t._transitioning=!0,t.parentNode||t.sceneEl.appendChild(t);for(let e of t.querySelectorAll("[data-ui]"))for(let t of e.children)t.setAttribute("hide",!0)},dismissKeyboard:function(t){t._transitioning=!0;for(let e of t.querySelectorAll("[data-ui]")){for(let t of e.children)t.setAttribute("show",!0);t.isOpen=!1}},addKeyEvents:t=>{t.addEventListener("mousedown",a.keyClick),t.addEventListener("mouseup",a.keyOut),t.addEventListener("raycaster-intersected",a.keyIn),t.addEventListener("raycaster-intersected-cleared",a.keyOut)},keyClick:function(){let t=this.getAttribute("key-type"),e=this.getAttribute("key-value");"text"===t||"spacebar"===t?("spacebar"===t&&(e=" "),a.isShiftEnabled?(e=e.toUpperCase(),a.shiftToggle()):a.isSymbols&&a.symbolsToggle(),o.emit(a.el,"input",e)):"shift"===t?a.shiftToggle():"symbol"===t?a.symbolsToggle():"backspace"===t?o.emit(a.el,"backspace"):"enter"===t?a.destroyKeyboard(a.el):"dismiss"===t&&o.emit(a.el,"dismiss")},keyDown:function(){a.el._transitioning||(this.object3D.position.z=.003,"spacebar"===this.getAttribute("key-type")?this.setAttribute("color",s.SPACEBAR_COLOR_ACTIVE):this.setAttribute("color",s.KEY_COLOR_ACTIVE))},keyIn:function(){a.el._transitioning||this.object3D.children[2]&&this.object3D.children[2].material&&!this.object3D.children[2].material.opacity||("spacebar"===this.getAttribute("key-type")?this.setAttribute("color",s.SPACEBAR_COLOR_HIGHLIGHT):this.setAttribute("color",s.KEY_COLOR_HIGHLIGHT))},keyOut:function(){this.object3D.position.z=0,"spacebar"===this.getAttribute("key-type")?this.setAttribute("color",s.KEY_COLOR_ACTIVE):this.setAttribute("color",s.KEYBOARD_COLOR)},isShiftEnabled:!1,shiftToggle:function(){a.isShiftEnabled=!a.isShiftEnabled;var t=a.el.shiftKey.querySelector("[data-type]");a.isShiftEnabled?t.setAttribute("src",r.aframeKeyboardShiftActive):t.setAttribute("src",r.aframeKeyboardShift);for(let t of document.querySelectorAll("[key-id]")){let e=t.getAttribute("key-id"),i=t.getAttribute("key-type");if(e.startsWith("main-")&&"text"===i){let e=t.querySelector("a-text");if(e){let t=e.getAttribute("value").toLowerCase();this.isShiftEnabled&&(t=t.toUpperCase()),e.setAttribute("value",t)}}}},isSymbols:!1,symbolsToggle:function(){if(a.isSymbols=!a.isSymbols,a.isSymbols){let t=a.el.alphabeticalLayout.parentNode;t.removeChild(a.el.alphabeticalLayout),t.appendChild(a.el.symbolsLayout)}else{let t=a.el.symbolsLayout.parentNode;t.removeChild(a.el.symbolsLayout),t.appendChild(a.el.alphabeticalLayout)}}};t.exports=a},function(t,e,i){t.exports=i(6)},function(t,e,i){(()=>{if(!AFRAME)return console.error("AFRAME is required!");AFRAME.ASSETS_PATH||(AFRAME.ASSETS_PATH="./assets"),i(7),i(8),i(12)})()},function(t,e){AFRAME.registerComponent("rounded",{schema:{enabled:{default:!0},width:{type:"number",default:1},height:{type:"number",default:1},radius:{type:"number",default:.3},topLeftRadius:{type:"number",default:-1},topRightRadius:{type:"number",default:-1},bottomLeftRadius:{type:"number",default:-1},bottomRightRadius:{type:"number",default:-1},color:{type:"color",default:"#F0F0F0"},opacity:{type:"number",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D("mesh",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){var t=new THREE.Shape;var e,i,r,s,o,a,n,u,l,d=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return-1!=this.data.topLeftRadius&&(d[0]=this.data.topLeftRadius),-1!=this.data.topRightRadius&&(d[1]=this.data.topRightRadius),-1!=this.data.bottomLeftRadius&&(d[2]=this.data.bottomLeftRadius),-1!=this.data.bottomRightRadius&&(d[3]=this.data.bottomRightRadius),e=t,i=0,r=0,s=this.data.width,o=this.data.height,a=d[0],n=d[1],u=d[2],l=d[3],a||(a=1e-5),n||(n=1e-5),u||(u=1e-5),l||(l=1e-5),e.moveTo(i,r+a),e.lineTo(i,r+o-a),e.quadraticCurveTo(i,r+o,i+a,r+o),e.lineTo(i+s-n,r+o),e.quadraticCurveTo(i+s,r+o,i+s,r+o-n),e.lineTo(i+s,r+l),e.quadraticCurveTo(i+s,r,i+s-l,r),e.lineTo(i+u,r),e.quadraticCurveTo(i,r,i,r+u),new THREE.ShapeBufferGeometry(t)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-rounded",{defaultComponents:{rounded:{}},mappings:{enabled:"rounded.enabled",width:"rounded.width",height:"rounded.height",radius:"rounded.radius","top-left-radius":"rounded.topLeftRadius","top-right-radius":"rounded.topRightRadius","bottom-left-radius":"rounded.bottomLeftRadius","bottom-right-radius":"rounded.bottomRightRadius",color:"rounded.color",opacity:"rounded.opacity"}})},function(t,e,i){i(0);const r=i(9),s=i(4),o=(i(11),i(2));AFRAME.registerComponent("keyboard",{schema:{isOpen:{type:"boolean",default:!1},physicalKeyboard:{type:"boolean",default:!1}},currentInput:null,init:function(){let t=this;console.error("keyboardInit"),this.keydownEventKey=this.keydownEventKey.bind(this),this.inputEvent=this.inputEvent.bind(this),this.didFocusInputEventKey=this.didFocusInputEventKey.bind(this),this.didBlurInputEvent=this.didBlurInputEvent.bind(this),this.dismissEvent=this.dismissEvent.bind(this),this.backspaceEvent=this.backspaceEvent.bind(this),this.onTabNextInput=this.onTabNextInput.bind(this),r.init(this.el);r.numericalUI();let e=r.mainUI(),i=r.actionsUI();this.el.alphabeticalLayout=r.alphabeticalLayout(),this.el.symbolsLayout=r.symbolsLayout(),e.appendChild(this.el.alphabeticalLayout),i.appendChild(r.actionsLayout()),this.el.appendChild(e),this.el.appendChild(i),this.el.show=function(){s.showKeyboard(t.el)},this.el.hide=function(){s.hideKeyboard(t.el)},this.el.open=function(){s.openKeyboard(t.el)},this.el.dismiss=function(){s.dismissKeyboard(t.el)},this.el.destroy=function(){s.destroyKeyboard(t.el)},this.el.setAttribute("scale","1 1 1"),this.el.setAttribute("rotation","0 0 0"),this.el.setAttribute("position","-0.5 0.3 -1.5"),this.el.setAttribute("class","ui"),this.el.addEventListener("input",this.inputEvent),this.el.addEventListener("backspace",this.backspaceEvent),this.el.addEventListener("dismiss",this.dismissEvent),this.el.addEventListener("onTabNextInput",this.onTabNextInput),document.addEventListener("keydown",this.keydownEventKey),document.addEventListener("didfocusinput",this.didFocusInputEventKey),document.addEventListener("didblurinput",this.didBlurInputEvent)},update:function(){this.data.isOpen?s.showKeyboard(this.el):s.hideKeyboard(this.el)},tick:function(){},remove:function(){console.error("keyboard remove"),document.removeEventListener("keydown",this.keydownEventKey),this.el.removeEventListener("input",this.inputEvent),this.el.removeEventListener("backspace",this.backspaceEvent),this.el.removeEventListener("dismiss",this.dismissEvent),this.el.removeEventListener("onTabNextInput",this.onTabNextInput),document.removeEventListener("didfocusinput",this.didFocusInputEventKey.bind(this)),document.removeEventListener("didblurinput",this.didBlurInputEvent.bind(this))},pause:function(){document.removeEventListener("keydown",this.keydownEventKey.bind(this))},play:function(){},inputEvent:function(t){t.stopPropagation(),t.preventDefault(),this.currentInput&&(console.error(t.detail),this.currentInput.appendString(t.detail))},backspaceEvent:function(t){t.stopPropagation(),t.preventDefault(),console.error("backspaceEvent deleteLast"),this.currentInput&&this.currentInput.deleteLast()},dismissEvent:function(t){this.currentInput&&this.currentInput.blur()},onTabNextInput:function(t){console.error(this.currentInput);let e=document.querySelectorAll("a-input");console.error(e),this.currentInput&&this.currentInput.blur(),e[1]&&e[1].focus()},keydownEventKey:function(t){console.error(t),console.error("keydown"+t),console.error("keydown"+t.key),console.error("keydown"+this.currentInput),this.data.physicalKeyboard&&("Enter"===t.key?(o.emit(s.el,"input","\n"),o.emit(s.el,"enter","\n")):"Backspace"===t.key?o.emit(s.el,"backspace"):"Escape"===t.key||("Tab"===t.key?o.emit(s.el,"onTabNextInput"):t.key.length<2&&o.emit(s.el,"input",t.key)),t=null)},didFocusInputEventKey:function(t){t.preventDefault(),t.stopPropagation(),console.error("didFocusInputKey"),console.error(t),this.currentInput&&this.currentInput.blur(!0),this.currentInput=t.detail,this.el.isOpen,t=null},didBlurInputEvent:function(t){this.currentInput=null,s.dismissKeyboard(this.el)}}),AFRAME.registerPrimitive("a-keyboard",{defaultComponents:{keyboard:{}},mappings:{"is-open":"keyboard.isOpen","physical-keyboard":"keyboard.physicalKeyboard"}})},function(t,e,i){const r=i(1),s=i(10),o=i(3),a=i(4),n={el:null,init:t=>{n.el=t,a.el=t,a.SFX=t.SFX},numericalUI:()=>{var t=document.createElement("a-entity");t.setAttribute("position","0.025 0 0.12"),t.setAttribute("rotation","0 0 0"),t.setAttribute("data-ui",!0),t.setAttribute("class","ui");var e=document.createElement("a-rounded");return e.setAttribute("width","0.280"),e.setAttribute("height","0.360"),e.setAttribute("radius","0.02"),e.setAttribute("color",o.KEYBOARD_COLOR),e.setAttribute("class","ui"),t},mainUI:()=>{var t=document.createElement("a-entity");t.setAttribute("position","-0.3 0 0"),t.setAttribute("data-ui",!0),t.setAttribute("class","ui");var e=document.createElement("a-rounded");return e.setAttribute("width","0.840"),e.setAttribute("height","0.360"),e.setAttribute("radius","0.02"),e.setAttribute("color",o.KEYBOARD_COLOR),e.setAttribute("class","ui"),t},actionsUI:()=>{var t=document.createElement("a-entity");t.setAttribute("position","0.55 0 0"),t.setAttribute("rotation","0 0 0"),t.setAttribute("data-ui",!0),t.setAttribute("class","ui");var e=document.createElement("a-rounded");return e.setAttribute("width","0.180"),e.setAttribute("height","0.360"),e.setAttribute("radius","0.02"),e.setAttribute("color",o.KEYBOARD_COLOR),e.setAttribute("class","ui"),t},numericalLayout:()=>{var t=s.numerical,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0");let i=0;for(var r in t){let s="num-"+r,a=n.key(s,t[r].type,t[r].value),u=r%3,l=o.KEY_WIDTH*u,d=o.KEY_WIDTH*i;a.setAttribute("position",`${l} -${d} 0`),2===u&&i++,a.setAttribute("class","ui"),e.appendChild(a)}return e},alphabeticalLayout:()=>{var t=s.alphabetical,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0");let i=0,r=0,a=!1;for(var u in t){let s="main-"+u,l=n.key(s,t[u].type,t[u].value),d=o.KEY_WIDTH*r,c=o.KEY_WIDTH*i;1===i&&(d+=o.KEY_WIDTH/2),a&&(d=d+o.SPACE_KEY_WIDTH-o.KEY_WIDTH+.11),"spacebar"===t[u].type&&(a=!0,d+=.055,c=o.KEY_WIDTH*i-.01),l.setAttribute("position",`${d} -${c} 0`),(1===i&&8===r||9===r)&&(r=-1,i++),r++,l.setAttribute("class","ui"),e.appendChild(l)}return e},symbolsLayout:()=>{var t=s.symbols,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0");let i=0,r=0,a=!1;for(var u in t){let s="symbols-"+u,l=n.key(s,t[u].type,t[u].value),d=o.KEY_WIDTH*r,c=o.KEY_WIDTH*i;a&&(d=d+o.SPACE_KEY_WIDTH-o.KEY_WIDTH+.11),"spacebar"===t[u].type&&(a=!0,d+=.055,c=o.KEY_WIDTH*i-.01),l.setAttribute("position",`${d} -${c} 0`),9===r&&(r=-1,i++),r++,l.setAttribute("class","ui"),e.appendChild(l)}return e},actionsLayout:()=>{var t=s.actions,e=document.createElement("a-entity");e.setAttribute("position","0.02 0.26 0");let i=0;for(var r in t){let s="action-"+r,a=n.key(s,t[r].type,t[r].value);a.setAttribute("position",`0 -${i} 0`),0==r?i+=o.ACTION_WIDTH+.01:1==r&&(i+=o.KEY_WIDTH+.01),a.setAttribute("class","ui"),e.appendChild(a)}return e},key:(t,e,i)=>{var s=document.createElement("a-rounded");if(s.setAttribute("key-id",t),s.setAttribute("width",o.KEY_WIDTH),s.setAttribute("height",o.KEY_WIDTH),s.setAttribute("radius","0.008"),s.setAttribute("position","0 0 0"),s.setAttribute("key-type",e),s.setAttribute("key-value",i),s.setAttribute("color",o.KEYBOARD_COLOR),a.addKeyEvents(s),s.shadow_el=document.createElement("a-image"),s.shadow_el.setAttribute("width",1.25*o.KEY_WIDTH),s.shadow_el.setAttribute("height",1.25*o.KEY_WIDTH),s.shadow_el.setAttribute("position",o.KEY_WIDTH/2+" "+o.KEY_WIDTH/2+" -0.002"),s.shadow_el.setAttribute("src",r.aframeKeyboardShadow),s.appendChild(s.shadow_el),"text"===e||"spacebar"===e||"symbol"===e){var u=document.createElement("a-text");u.setAttribute("value",i),u.setAttribute("color","#dbddde"),u.setAttribute("position",o.KEY_WIDTH/2+" "+o.KEY_WIDTH/2+" 0.01"),u.setAttribute("scale","0.16 0.16 0.16"),u.setAttribute("align","center"),u.setAttribute("baseline","center"),s.appendChild(u)}if("spacebar"===e?(s.setAttribute("width",o.SPACE_KEY_WIDTH),s.setAttribute("height",o.SPACE_KEY_HEIGHT),s.setAttribute("color","#404b50"),s.shadow_el.setAttribute("width",1.12*o.SPACE_KEY_WIDTH),s.shadow_el.setAttribute("height",1.2*o.SPACE_KEY_HEIGHT),s.shadow_el.setAttribute("position",o.SPACE_KEY_WIDTH/2+" "+o.SPACE_KEY_HEIGHT/2+" -0.02"),u.setAttribute("color","#adb1b3"),u.setAttribute("scale","0.12 0.12 0.12"),u.setAttribute("position",o.SPACE_KEY_WIDTH/2+" "+o.SPACE_KEY_HEIGHT/2+" 0")):"symbol"===e&&u.setAttribute("scale","0.12 0.12 0.12"),"backspace"!==e&&"enter"!==e&&"dismiss"!==e||(s.setAttribute("width",o.ACTION_WIDTH),s.shadow_el.setAttribute("width",1.25*o.ACTION_WIDTH),s.shadow_el.setAttribute("position",o.ACTION_WIDTH/2+" "+o.KEY_WIDTH/2+" -0.02")),"shift"===e)(d=document.createElement("a-image")).setAttribute("data-type","icon"),d.setAttribute("width","0.032"),d.setAttribute("height","0.032"),d.setAttribute("position","0.04 0.04 0.01"),d.setAttribute("src",r.aframeKeyboardShift),s.appendChild(d),n.el.shiftKey=s;else if("global"===e){(d=document.createElement("a-image")).setAttribute("width","0.032"),d.setAttribute("height","0.032"),d.setAttribute("position","0.04 0.04 0.01"),d.setAttribute("src",r.aframeKeyboardGlobal),s.appendChild(d)}else if("backspace"===e){(d=document.createElement("a-image")).setAttribute("width","0.046"),d.setAttribute("height","0.046"),d.setAttribute("position","0.07 0.04 0.01"),d.setAttribute("src",r.aframeKeyboardBackspace),s.appendChild(d)}else if("enter"===e){s.setAttribute("height",o.ACTION_WIDTH),s.shadow_el.setAttribute("height",1.25*o.ACTION_WIDTH),s.shadow_el.setAttribute("position",o.ACTION_WIDTH/2+" "+o.ACTION_WIDTH/2+" -0.02");var l=document.createElement("a-circle");l.setAttribute("color","#4285f4"),l.setAttribute("radius",.044),l.setAttribute("position","0.07 0.07 0.01"),s.appendChild(l),(d=document.createElement("a-image")).setAttribute("width","0.034"),d.setAttribute("height","0.034"),d.setAttribute("position","0.07 0.07 0.011"),d.setAttribute("src",r.aframeKeyboardEnter),s.appendChild(d)}else if("dismiss"===e){var d;(d=document.createElement("a-image")).setAttribute("width","0.046"),d.setAttribute("height","0.046"),d.setAttribute("position","0.07 0.04 0.01"),d.setAttribute("src",r.aframeKeyboardDismiss),s.appendChild(d)}return s}};t.exports=n},function(t,e){t.exports={numerical:[{type:"text",value:"1"},{type:"text",value:"2"},{type:"text",value:"3"},{type:"text",value:"4"},{type:"text",value:"5"},{type:"text",value:"6"},{type:"text",value:"7"},{type:"text",value:"8"},{type:"text",value:"9"},{type:"text",value:"."},{type:"text",value:"0"},{type:"text",value:"-"}],alphabetical:[{type:"text",value:"q"},{type:"text",value:"w"},{type:"text",value:"e"},{type:"text",value:"r"},{type:"text",value:"t"},{type:"text",value:"y"},{type:"text",value:"u"},{type:"text",value:"i"},{type:"text",value:"o"},{type:"text",value:"p"},{type:"text",value:"a"},{type:"text",value:"s"},{type:"text",value:"d"},{type:"text",value:"f"},{type:"text",value:"g"},{type:"text",value:"h"},{type:"text",value:"j"},{type:"text",value:"k"},{type:"text",value:"l"},{type:"shift"},{type:"text",value:"z"},{type:"text",value:"x"},{type:"text",value:"c"},{type:"text",value:"v"},{type:"text",value:"b"},{type:"text",value:"n"},{type:"text",value:"m"},{type:"text",value:"!"},{type:"text",value:"?"},{type:"text",value:"@"},{type:"spacebar",value:""},{type:"text",value:","},{type:"text",value:"."}],symbols:[{type:"text",value:"@"},{type:"text",value:"#"},{type:"text",value:"$"},{type:"text",value:"%"},{type:"text",value:"&"},{type:"text",value:"*"},{type:"text",value:"-"},{type:"text",value:"+"},{type:"text",value:"("},{type:"text",value:")"},{type:"text",value:"~"},{type:"text",value:"`"},{type:"text",value:'"'},{type:"text",value:"'"},{type:"text",value:":"},{type:"text",value:";"},{type:"text",value:"_"},{type:"text",value:"="},{type:"text",value:"\\"},{type:"text",value:"/"},{type:"text",value:"{"},{type:"text",value:"}"},{type:"text",value:"["},{type:"text",value:"]"},{type:"text",value:"<"},{type:"text",value:">"},{type:"text",value:"^"},{type:"text",value:"|"},{type:"text",value:"!"},{type:"text",value:"?"},{type:"symbol",value:"ABC"},{type:"text",value:"@"},{type:"spacebar",value:""},{type:"text",value:","},{type:"text",value:"."}],actions:[{type:"backspace",value:"Del"},{type:"enter",value:"OK"}]}},function(t,e,i){var r=i(1);const s={init:function(t){let e=document.createElement("a-sound");e.setAttribute("key","aframeKeyboardKeyInSound"),e.setAttribute("sfx",!0),e.setAttribute("src",r.aframeKeyboardKeyIn),e.setAttribute("position","0 2 5"),t.appendChild(e),e=document.createElement("a-sound"),e.setAttribute("key","aframeKeyboardKeyDownSound"),e.setAttribute("sfx",!0),e.setAttribute("src",r.aframeKeyboardKeyDown),e.setAttribute("position","0 2 5"),t.appendChild(e)},keyIn:function(t){let e=t.querySelector("[key=aframeKeyboardKeyInSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())},keyDown:function(t){let e=t.querySelector("[key=aframeKeyboardKeyDownSound]");e&&(e.components.sound.stopSound(),e.components.sound.playSound())}};t.exports=s},function(t,e,i){const r=i(0),s=i(2);AFRAME.registerComponent("input",{schema:{value:{type:"string",default:""},name:{type:"string",default:""},disabled:{type:"boolean",default:!1},color:{type:"color",default:"#fff"},align:{type:"string",default:"left"},font:{type:"string",default:""},letterSpacing:{type:"int",default:0},lineHeight:{type:"string",default:""},opacity:{type:"number",default:0},side:{type:"string",default:"front"},tabSize:{type:"int",default:4},placeholder:{type:"string",default:""},placeholderColor:{type:"color",default:"#AAA"},maxLength:{type:"int",default:0},type:{type:"string",default:"text"},width:{type:"number",default:1},cursorWidth:{type:"number",default:.01},cursorHeight:{type:"number",default:.08},cursorColor:{type:"color",default:"#007AFF"},backgroundColor:{type:"color",default:"#fff"},backgroundOpacity:{type:"number",default:0}},init:function(){let t=this;this.background=document.createElement("a-plane"),this.background.setAttribute("height",.18),this.background.setAttribute("position","0.5 0 0"),this.background.setAttribute("side","double"),this.background.setAttribute("class","ui"),this.el.appendChild(this.background),this.cursor=document.createElement("a-plane"),this.cursor.setAttribute("position","0 0 0.003"),this.cursor.setAttribute("visible",!1),this.cursor.setAttribute("class","ui"),this.el.appendChild(this.cursor),this.text=document.createElement("a-entity"),this.el.appendChild(this.text),this.placeholder=document.createElement("a-entity"),this.placeholder.setAttribute("visible",!1),this.el.appendChild(this.placeholder),this.el.focus=this.focus.bind(this),this.el.blur=this.blur.bind(this),this.el.appendString=this.appendString.bind(this),this.el.setString=this.setString.bind(this),this.el.deleteLast=this.deleteLast.bind(this),this.blink(),this.background.addEventListener("mousedown",e=>{e.stopPropagation(),e.preventDefault(),console.error(this.data),this.data.disabled?this.blur():t.focus()}),Object.defineProperty(this.el,"value",{get:function(){return this.getAttribute("value")},set:function(t){this.setAttribute("value",t)},enumerable:!0,configurable:!0})},play:function(){console.error("input play")},pause:function(){console.error("input pause")},blink:function(){let t=this;if(!this.isFocused)return this.cursor.setAttribute("visible",!1),clearInterval(this.cursorInterval),void(this.cursorInterval=null);this.cursorInterval=setInterval((function(){t.cursor.setAttribute("visible",!t.cursor.getAttribute("visible"))}),500)},isFocused:!1,focus:function(t){this.isFocused||(console.error("focus"),this.isFocused=!0,this.cursor.setAttribute("visible",!0),this.blink(),s.emit(this.el,"focus"),t||s.emit(document,"didfocusinput",this.el))},blur:function(t){console.error("blur"),this.isFocused&&(this.isFocused=!1,this.cursorInterval&&(clearInterval(this.cursorInterval),this.cursorInterval=null),this.cursor.setAttribute("visible",!1),s.emit(this.el,"didblurinput"),t||s.emit(document,"didblurinput",this.el))},appendString:function(t){if("\n"===t)return this.blur();let e=this.el.getAttribute("value");e||(e=""),e+=t,this.el.setAttribute("value",e),s.emit(this.el,"change",e)},setString:function(t){let e=this.el.getAttribute("value");e||(e=""),e=t,this.el.setAttribute("value",e),s.emit(this.el,"change",e)},deleteLast:function(){let t=this.el.getAttribute("value");t||(t=""),t=t.slice(0,-1),this.el.setAttribute("value",t),s.emit(this.el,"change",t)},updateText:function(){let t=this,e=.021,i=.021,s={color:this.data.color,align:this.data.align,side:this.data.side,tabSize:this.data.tabSize,wrapCount:24*this.data.width,width:this.data.width},o=this.text.getAttribute("text");function a(s,o,n,u){if(!s.object3D||!s.object3D.children||!s.object3D.children[0])return 0;let l=s.object3D.children[0].geometry.visibleGlyphs;if(!l)return 0;if(l=l[l.length-1],!l)return 0;if(l.line)return o.value=n?o.value.substr(1):o.value.slice(0,-1),s.setAttribute("text",o),a(s,o,n);if(u||(u=r.getWidthFactor(s,o.wrapCount)),l=(l.position[0]+l.data.width)/(u/t.data.width),(l+e+i)/t.data.width>1)return o.value=n?o.value.substr(1):o.value.slice(0,-1),s.setAttribute("text",o),a(s,o,n,u);return l}o&&this.data.value!==o.value&&(this.cursorInterval&&(clearInterval(this.cursorInterval),this.cursorInterval=null),this.cursorTimer&&(clearTimeout(this.cursorTimer),this.cursorTimer=null),this.cursor.setAttribute("visible",!0),this.cursorTimer=setTimeout((function(){t.blink()}),50)),this.data.maxLength?(s.value=this.data.value.substring(0,this.data.maxLength),this.el.setAttribute("value",s.value)):s.value=this.data.value,"password"===this.data.type&&(s.value="*".repeat(this.data.value.length)),this.data.font.length&&(s.font=this.data.font),this.data.letterSpacing&&(s.letterSpacing=this.data.letterSpacing),this.data.lineHeight.length&&(s.lineHeight=this.data.lineHeight),this.text.setAttribute("visible",!1),this.text.setAttribute("text",s),s.value.length?this.placeholder.setAttribute("visible",!1):this.placeholder.setAttribute("visible",!0);let n=r.clone(s);n.value=this.data.placeholder,n.color=this.data.placeholderColor,this.placeholder.setAttribute("text",n),setTimeout((function(){if(t.text.object3D){let i=t.text.object3D.children;if(i[0]&&i[0].geometry&&i[0].geometry.visibleGlyphs){let r=0;i[0].geometry.visibleGlyphs.length&&(r=a(t.text,s,!0),t.text.setAttribute("visible",!0)),t.cursor.setAttribute("position",r+e+" 0 0.003")}else t.cursor.setAttribute("position",e+" 0 0.003")}else t.cursor.setAttribute("position",e+" 0 0.003");a(t.placeholder,n)}),0),this.background.setAttribute("color",this.data.backgroundColor),this.background.setAttribute("width",this.data.width),this.text.setAttribute("position",e-.001+this.data.width/2+" 0 0.002"),this.placeholder.setAttribute("position",e-.001+this.data.width/2+" 0 0.002")},updateCursor:function(){this.cursor.setAttribute("width",this.data.cursorWidth),this.cursor.setAttribute("height",this.data.cursorHeight),this.cursor.setAttribute("color",this.data.cursorColor),this.cursor.setAttribute("emissive",this.data.cursorColor)},update:function(){setTimeout((function(){}),0),this.updateCursor(),this.updateText()},tick:function(){},remove:function(){console.error("input remove"),this.el.removeObject3D("mesh"),console.error(this),this.el.object3D.remove(this.background),this.el.remove(this.background),this.el.object3D.remove(this.cursor),this.el.remove(this.cursor),this.el.object3D.remove(this.placeholder),this.el.remove(this.placeholder),this.el.object3D.remove(this.text),this.el.remove(this.text),console.error(this.placeholder.object3D),console.error(this.el.object3D)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-input",{defaultComponents:{input:{}},mappings:{value:"input.value",name:"input.name",disabled:"input.disabled",color:"input.color",align:"input.align",font:"input.font","letter-spacing":"input.letterSpacing","line-height":"input.lineHeight",opacity:"input.opacity",side:"input.side","tab-size":"input.tabSize",placeholder:"input.placeholder","placeholder-color":"input.placeholderColor","max-length":"input.maxLength",type:"input.type",width:"input.width","cursor-width":"input.cursorWidth","cursor-height":"input.cursorHeight","cursor-color":"input.cursorColor","background-color":"input.backgroundColor","background-opacity":"input.backgroundOpacity"}})}]);
//# sourceMappingURL=aframe-material.js.map